<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">getMessageCount</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7DQoNClN0cmluZyBjaGFu
bmVsTmFtZSA9IG51bGw7DQpTdHJpbmcgcmVhbG1TZXJ2ZXIgPSBudWxsOw0KU3RyaW5nIG1vZGUg
PSBudWxsOw0KDQppZiAoY3Vyc29yLmZpcnN0KCJuYW1lIikpDQp7DQoJY2hhbm5lbE5hbWUgPSAo
U3RyaW5nKSBjdXJzb3IuZ2V0VmFsdWUoKTsJCQkNCn0NCmVsc2Ugew0KCXJldHVybjsNCn0NCg0K
aWYgKGN1cnNvci5maXJzdCgicmVhbG0iKSkNCnsNCglyZWFsbVNlcnZlciA9IChTdHJpbmcpIGN1
cnNvci5nZXRWYWx1ZSgpOw0KfQ0KZWxzZSB7DQoJcmV0dXJuOw0KfQ0KDQppZiAoY3Vyc29yLmZp
cnN0KCJ0eXBlIikpDQp7DQoJbW9kZSA9IChTdHJpbmcpIGN1cnNvci5nZXRWYWx1ZSgpOw0KfQ0K
ZWxzZSB7DQoJcmV0dXJuOw0KfQ0KDQp0cnkgew0KCQ0KCWxvbmcgY291bnQgPSAwOw0KCWxvbmcg
Zmlyc3QgPSAwOw0KCWxvbmcgbGFzdCA9IDA7CQ0KCVN0cmluZyBxdWV1ZUxlbmd0aCA9IG51bGw7
DQoJU3RyaW5nIHNhbXBsZSA9ICJ0ZXN0IjsNCgkvL0NyZWF0ZSBsb2dpY2FsIGNvbm5lY3Rpb24g
dG8gVW5pdmVyc2FsIE1lc3NhZ2luZw0KCS8vQ3JlYXRlIG5TZXNzaW9uIE9iamVjdA0KCVN0cmlu
Z1tdIFJOQU1FPXtyZWFsbVNlcnZlcn07IA0KCW5TZXNzaW9uQXR0cmlidXRlcyBuc2E9bmV3IG5T
ZXNzaW9uQXR0cmlidXRlcyhSTkFNRSk7IA0KCW5TZXNzaW9uIG15U2Vzc2lvbj1uU2Vzc2lvbkZh
Y3RvcnkuY3JlYXRlKG5zYSk7IA0KCW15U2Vzc2lvbi5pbml0KCk7DQoJDQoJLy9DcmVhdGUgY2hh
bm5lbCBhdHRyaWJ1dGUuIFNldCBjaGFubmVsIG5hbWUNCgluQ2hhbm5lbEF0dHJpYnV0ZXMgY2F0
dHJpYiA9IG5ldyBuQ2hhbm5lbEF0dHJpYnV0ZXMoKTsgDQoJY2F0dHJpYi5zZXROYW1lKGNoYW5u
ZWxOYW1lKTsgDQoJDQoJaWYgKG1vZGUuZXF1YWxzSWdub3JlQ2FzZSgiY2hhbm5lbCIpKXsNCgkN
CgkvL09idGFpbiBjaGFubmVsIHJlZmVyZW5jZQ0KCW5DaGFubmVsIG15Q2hhbm5lbD1teVNlc3Np
b24uZmluZENoYW5uZWwoY2F0dHJpYik7DQoJaW50IGNoYW5uZWxUeXBlID0gbXlDaGFubmVsLmdl
dFR5cGUoKTsNCgkNCglpZiAoY2hhbm5lbFR5cGUgPT0gNSkgew0KCQkNCgkJLy8gdGhyb3cgbmV3
IFNlcnZpY2VFeGNlcHRpb24gKCJDYW5ub3QgY2FsY3VsYXRlIGRlcHRoIGZvciBUcmFuc2llbnQg
Q2hhbm5lbCBUeXBlIik7DQoJfSBlbHNlIHsNCgkJY3Vyc29yLmluc2VydEFmdGVyKCJjaGFubmVs
VHlwZSIsIGNoYW5uZWxUeXBlKTsNCgl9DQoJbkNoYW5uZWxJdGVyYXRvciBpdGVyYXRvciA9IG15
Q2hhbm5lbC5jcmVhdGVJdGVyYXRvcigpOw0KCW5Db25zdW1lRXZlbnQgZXZlbnQxID0gaXRlcmF0
b3IuZ2V0Rmlyc3QoKTsJCQkNCglpZiAoZXZlbnQxICE9IG51bGwpew0KCQlmaXJzdCA9IGV2ZW50
MS5nZXRFdmVudElEKCk7CQkJCQ0KCQluQ29uc3VtZUV2ZW50IGV2ZW50MiA9IGl0ZXJhdG9yLmdl
dExhc3QoKTsNCgkJaWYgKGV2ZW50MiAhPSBudWxsKXsNCgkJCWxhc3QgPSBldmVudDIuZ2V0RXZl
bnRJRCgpOw0KCQkJaWYgKGZpcnN0ID09IGxhc3Qpew0KCQkJfSBlbHNlIHsNCgkJCWxhc3QrKzsJ
CQkNCgkJCX0NCgkJfQ0KCX0gZWxzZSB7DQoJCWN1cnNvci5pbnNlcnRBZnRlcigic2FtcGxlIiwg
c2FtcGxlKTsNCgl9CQ0KCWlmIChmaXJzdCA9PSBsYXN0ICYmIGZpcnN0ICE9IDApDQoJew0KCQlj
b3VudCsrOw0KCX0gZWxzZSB7DQoJCWNvdW50ID0gbGFzdCAtIGZpcnN0Ow0KCX0NCgkNCgl9IGVs
c2Ugew0KCQ0KCS8vT2J0YWluIHF1ZXVlIHJlZmVyZW5jZQ0KCW5RdWV1ZSBteVF1ZXVlID0gbXlT
ZXNzaW9uLmZpbmRRdWV1ZShjYXR0cmliKTsNCgluUXVldWVEZXRhaWxzIGRldGFpbHMgPSBteVF1
ZXVlLmdldERldGFpbHMoKTsJCQkNCgljb3VudCA9IGRldGFpbHMuZ2V0Tm9PZkV2ZW50cygpOw0K
CX0NCgkNCgkvL0dldCBxdWV1ZSBsZW5ndGggZm9yIGNoYW5uZWwgYW5kIHF1ZXVlDQoJcXVldWVM
ZW5ndGggPSBTdHJpbmcudmFsdWVPZihjb3VudCk7DQoJY3Vyc29yLmluc2VydEFmdGVyKCJxdWV1
ZUxlbmd0aCIsIHF1ZXVlTGVuZ3RoKTsNCgkNCgluU2Vzc2lvbkZhY3RvcnkuY2xvc2UobXlTZXNz
aW9uKTsNCgljdXJzb3IuZGVzdHJveSgpOw0KCQ0KfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsNCgkN
CgllLnByaW50U3RhY2tUcmFjZSgpOw0KCVN0cmluZyBlcnJvck1lc3NhZ2U9ImVycm9yIG1lc3Nh
Z2U6ICIrIGUgKyIiOw0KCUlEYXRhVXRpbC5wdXQoIGN1cnNvciwgImVycm9yTWVzc2FnZSIsIGVy
cm9yTWVzc2FnZSApOw0KCQ0KfSANCgk=</value>
</Values>
